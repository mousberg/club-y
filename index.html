<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Club Y</title>
    
    <!-- SEO and social sharing meta tags -->
    <meta name="description" content="Club Y - A global community of founders, investors & those in between.">
    <meta property="og:title" content="Club Y">
    <meta property="og:description" content="From NYC to the world. We are founders, investors & those in between.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://club-y.co">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Club Y - A global community of founders, investors & those in between" />
    <meta name="twitter:description" content="From NYC to the world. We are founders, investors & those in between." />
    <meta name="twitter:image" content="favicon/android-chrome-512x512.png" />
    
    <!-- Update favicon links to use favicon folder -->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    
    <!-- Add the link to external CSS file -->
    <link rel="stylesheet" href="styles.css">

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Club Y",
        "url": "https://club-y.co",
        "logo": "https://club-y.co/club-y.svg",
        "description": "A global community of founders, investors & those in between.",
        "sameAs": [
            "https://substack.com/@wearecluby"
        ]
    }
    </script>
</head>
<body>
    <div class="page-fade"></div>
    <div class="gradient-blur">
        <div class="gradient-container">
            <div class="triangle-1"></div>
            <div class="triangle-2"></div>
            <div class="triangle-3"></div>
        </div>
    </div>
    <div class="container">
        <!-- Club Y Logo -->
        <div class="logo-container" onclick="window.location.href='#'">
            <img src="club-y.svg" alt="Club Y">
        </div>
        
        <!-- Club Y Header -->
        <div class="header-container">
            <img src="header.svg" alt="Club Y" class="header-svg">
        </div>

        <!-- Intro Text -->
        <p class="intro">
            <span>From NYC to <span class="animated-city" data-city="Paris"></span></span>
            <span>We are founders, investors & those in between.</span>
        </p>

        <!-- Tagline -->
        <h1 class="tagline" onclick="openForm()">Apply here</h1>

    </div>

    <!-- Add this right after your container div -->
    <div id="formOverlay" class="form-overlay">
        <div class="form-container">
            <button class="close-button" onclick="closeForm()">×</button>
            <div class="scroll-indicator">↓</div>
            <form id="applicationForm" onsubmit="handleSubmit(event)">
                <div class="form-fields">
                    <div class="form-group name-group">
                        <label>Name *</label>
                        <div class="name-inputs">
                            <input type="text" id="firstName" name="firstName" required placeholder="Jane">
                            <input type="text" id="lastName" name="lastName" required placeholder="Smith">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="email" name="email" required placeholder="jane@mail.com">
                    </div>
                    <div class="form-group">
                        <label>LinkedIn URL *</label>
                        <input type="url" id="linkedin" name="linkedin" required placeholder="http://linkedin.com/in/your-linkedin-handle/">
                    </div>
                    <div class="form-group">
                        <label>Instagram <span class="optional">(optional)</span></label>
                        <div class="instagram-input-wrapper">
                            <span class="instagram-prefix">@</span>
                            <input type="text" id="instagram" name="instagram" class="instagram-input" placeholder="yourusername">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label>Age Range *</label>
                        <select id="ageRange" name="ageRange" required>
                            <option value="" disabled selected>Select...</option>
                            <option value="18-24">18-24</option>
                            <option value="25-34">25-34</option>
                            <option value="35-44">35-44</option>
                            <option value="45-54">45-54</option>
                            <option value="55+">55+</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Location *</label>
                        <select id="location" name="location" required onchange="toggleOtherInput('location')">
                            <option value="" disabled selected>Select...</option>
                            <option value="nyc">New York</option>
                            <option value="london">London</option>
                            <option value="paris">Paris</option>
                            <option value="miami">Miami</option>
                            <option value="sf">SF/ Bay Area</option>
                            <option value="zurich">Zurich</option>
                            <option value="geneva">Geneva</option>
                            <option value="other">Other</option>
                        </select>
                        <input type="text" id="otherLocation" name="otherLocation" 
                               placeholder="Please specify your city" 
                               style="display: none; margin-top: 10px;">
                    </div>
                    <div class="form-group">
                        <label>Who is your source of referral? (select all that apply) *</label>
                        <div class="checkbox-group" id="referralCheckboxes">
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-club-y-london" name="referral[]" value="club-y-london" class="referral-checkbox">
                                <label for="referral-club-y-london">Club Y London</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-club-y-paris" name="referral[]" value="club-y-paris" class="referral-checkbox">
                                <label for="referral-club-y-paris">Club Y Paris</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-club-y-retreat" name="referral[]" value="club-y-retreat" class="referral-checkbox">
                                <label for="referral-club-y-retreat">Club Y Retreat</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-club-y-retreat" name="referral[]" value="club-y-retreat" class="referral-checkbox">
                                <label for="referral-club-y-retreat">Club Y US</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-fos-london" name="referral[]" value="fos-london" class="referral-checkbox">
                                <label for="referral-fos-london">FOS London</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-harvard" name="referral[]" value="harvard" class="referral-checkbox">
                                <label for="referral-harvard">Harvard University</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-genzvc" name="referral[]" value="genzvc" class="referral-checkbox">
                                <label for="referral-genzvc">Gen Z VC</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-ivy-league" name="referral[]" value="ivy-league" class="referral-checkbox">
                                <label for="referral-ivy-league">Ivy League Network</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-oxford-university" name="referral[]" value="oxford-university" class="referral-checkbox">
                                <label for="referral-oxford-university">Oxford University</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-slush" name="referral[]" value="slush" class="referral-checkbox">
                                <label for="referral-slush">Slush</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-stanford" name="referral[]" value="stanford" class="referral-checkbox">
                                <label for="referral-stanford">Stanford University</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-wef-2025" name="referral[]" value="wef-2025" class="referral-checkbox">
                                <label for="referral-wef-2025">WEF 2025</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-ef-anthropic" name="referral[]" value="ef-anthropic" class="referral-checkbox">
                                <label for="referral-wl">Workshop Lab</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-yorkseed" name="referral[]" value="yorkseed" class="referral-checkbox">
                                <label for="referral-yorkseed">Yorkseed</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-yc-demo-day" name="referral[]" value="yc-demo-day" class="referral-checkbox">
                                <label for="referral-yc-demo-day">YC Demo Day</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-yc-founder" name="referral[]" value="yc-founder" class="referral-checkbox">
                                <label for="referral-yc-founder">YC Founder</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="referral-other" name="referral[]" value="other" class="referral-checkbox" onchange="toggleOtherReferralInput()">
                                <label for="referral-other">Other</label>
                            </div>
                        </div>
                        <div id="otherReferralInputs" style="display: none; margin-top: 10px;">
                            <input type="text" id="referrerFirstName" name="referrerFirstName" 
                                   placeholder="Referrer's First Name" style="margin-bottom: 10px;">
                            <input type="text" id="referrerLastName" name="referrerLastName" 
                                   placeholder="Referrer's Last Name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>What keeps you busy? *</label>
                        <select id="identity" name="identity" required onchange="toggleOtherInput('identity')">
                            <option value="" disabled selected>Select...</option>
                            <option value="pre-seed-no-revenue">Pre-seed founder with no revenue</option>
                            <option value="seed-revenue">Seed founder with revenue</option>
                            <option value="vc-investor">Venture Capital Investor/Enthusiast</option>
                            <option value="big-tech">Big Tech Employee</option>
                            <option value="creative">Creative/Athlete/Academic</option>
                            <option value="other">Other</option>
                        </select>
                        <input type="text" id="otherIdentity" name="otherIdentity" 
                               placeholder="Please specify" 
                               style="display: none; margin-top: 10px;">
                    </div>
                    
                    <div id="startupInfoContainer" class="form-group" style="display: none;">
                        <label class="startup-info-label">To accelerate your application, please tell us about your startup:</label>
                        <div class="form-group">
                            <label>What is the name of your startup?</label>
                            <input type="text" id="startupName" name="startupName" placeholder="Startup name">
                        </div>
                        <div class="form-group">
                            <label>Describe your startup in one sentence</label>
                            <input type="text" id="startupDescription" name="startupDescription" placeholder="Short description of your startup">
                        </div>
                        <div class="form-group">
                            <label>Links (Website, Social Media, etc.)</label>
                            <textarea id="startupLinks" name="startupLinks" placeholder="Website, X, Instagram, LinkedIn, co-founders or anything applicable" rows="3"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-group checkbox">
                        <input type="checkbox" id="newsletter" name="newsletter">
                        <label for="newsletter">Subscribe to Club Y Newsletter</a></label>
                    </div>
                </div>
                
                <div class="privacy-notice">
                    By submitting this form, you agree to our <a href="privacy.html" class="substack-link">data collection practices</a>. 
                    We handle all information with care and respect your privacy.
                </div>
                
                <div class="form-actions">
                <button type="submit" class="submit-button">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add this right after your form-overlay div -->
    <div id="successOverlay" class="success-overlay">
        <div class="success-container">
            <h2>Thank you for applying!</h2>
            <p>We've received your application and will be in touch with next steps soon.</p>
            <button class="close-success" onclick="closeSuccess()">Close</button>
        </div>
    </div>

    <!-- Move the footer outside the container -->
    <footer class="footer">
        product of
        <a href="https://workshoplab.org" target="_blank" class="footer-link">
            <img src="WL-footer.svg" alt="Workshop Lab" class="footer-logo">
        </a>
    </footer>

    <script>
        // Add smooth scroll behavior
        document.documentElement.style.scrollBehavior = 'smooth';

        function openForm() {
            const overlay = document.getElementById('formOverlay');
            document.body.style.overflow = 'hidden';
            overlay.classList.add('active');
            setTimeout(updateScrollIndicator, 100); // Check after animation
        }

        function closeForm() {
            const overlay = document.getElementById('formOverlay');
            document.body.style.overflow = '';
            overlay.classList.remove('active');
        }

        function validateForm() {
            const form = document.getElementById('applicationForm');
            const inputs = form.querySelectorAll('[required]');
            let isValid = true;
            
            inputs.forEach(input => {
                if (!input.value.trim()) {
                    isValid = false;
                    input.classList.add('error');
                } else {
                    input.classList.remove('error');
                }
            });
            
            // Validate referral checkboxes - at least one must be selected
            const referralCheckboxes = document.querySelectorAll('.referral-checkbox');
            const referralGroup = document.getElementById('referralCheckboxes');
            let anyReferralSelected = false;
            
            referralCheckboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    anyReferralSelected = true;
                }
            });
            
            if (!anyReferralSelected) {
                isValid = false;
                referralGroup.classList.add('error-group');
            } else {
                referralGroup.classList.remove('error-group');
            }
            
            if (!phoneInput.isValidNumber()) {
                document.querySelector("#phone").classList.add('error');
                return false;
            }
            
            return isValid;
        }

        async function handleSubmit(event) {
            event.preventDefault();
            
            if (!validateForm()) {
                return;
            }
            
            const submitButton = document.querySelector('.submit-button');
            const form = document.getElementById('applicationForm');
            const inputs = form.querySelectorAll('input, select');
            
            // Disable form while submitting
            inputs.forEach(input => input.disabled = true);
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';
            
            try {
                // Get all selected referral options
                const referralValues = [];
                document.querySelectorAll('.referral-checkbox:checked').forEach(checkbox => {
                    referralValues.push(checkbox.value);
                });
                
                const formData = {
                    firstName: document.getElementById('firstName').value.trim(),
                    lastName: document.getElementById('lastName').value.trim(),
                    linkedin: document.getElementById('linkedin').value.trim(),
                    instagram: document.getElementById('instagram').value.trim()
                        ? '@' + document.getElementById('instagram').value.trim().replace('@', '')
                        : '',
                    phone: phoneInput.isValidNumber() ? phoneInput.getNumber(intlTelInputUtils.numberFormat.E164) : '',
                    email: document.getElementById('email').value.trim(),
                    ageRange: document.getElementById('ageRange').value,
                    location: document.getElementById('location').value,
                    otherLocation: document.getElementById('otherLocation').value.trim(),
                    referral: referralValues, // Now an array of selected values
                    referrerFirstName: document.getElementById('referrerFirstName').value.trim(),
                    referrerLastName: document.getElementById('referrerLastName').value.trim(),
                    identity: document.getElementById('identity').value,
                    otherIdentity: document.getElementById('otherIdentity').value.trim(),
                    startupName: document.getElementById('startupName').value.trim(),
                    startupDescription: document.getElementById('startupDescription').value.trim(),
                    startupLinks: document.getElementById('startupLinks').value.trim(),
                    newsletter: document.getElementById('newsletter').checked
                };
                
                // Only include other identity if it's filled
                if (formData.identity !== 'other') {
                    delete formData.otherIdentity;
                }
                
                
                const url = 'https://script.google.com/macros/s/AKfycbzBgvwJ3Wq0x9djlAXd2qTVceHLFdyntMQdKD5Mu0yQ5T2oBIqneYh-tsMGJa15R8WI/exec';
                
                await fetch(url, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                submitButton.textContent = 'Success!';
                submitButton.style.backgroundColor = '#4CAF50';
                
                setTimeout(() => {
                    closeForm();
                    form.reset();
                    submitButton.style.backgroundColor = '#000';
                    submitButton.textContent = 'Submit';
                    showSuccess();
                }, 1500);
                
            } catch (error) {
                submitButton.textContent = 'Error - Try Again';
                submitButton.style.backgroundColor = '#FF4444';
                
                setTimeout(() => {
                    submitButton.style.backgroundColor = '#000';
                    submitButton.textContent = 'Submit';
                    submitButton.disabled = false;
                }, 3000);
            } finally {
                // Re-enable form inputs
                inputs.forEach(input => input.disabled = false);
            }
        }

        function showSuccess() {
            const successOverlay = document.getElementById('successOverlay');
            successOverlay.classList.add('active');
        }

        function closeSuccess() {
            const successOverlay = document.getElementById('successOverlay');
            successOverlay.classList.remove('active');
        }

        // Close success overlay when clicking outside
        document.getElementById('successOverlay').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) {
                closeSuccess();
            }
        });

        // Close form when clicking outside
        document.getElementById('formOverlay').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) {
                closeForm();
            }
        });

        function animateCities() {
            const cities = ['Paris', 'London', 'SF', 'Miami', 'Zurich', 'Geneva'];
            let currentIndex = 0;
            const cityElement = document.querySelector('.animated-city');
            
            // Create initial text
            let currentText = document.createElement('span');
            currentText.className = 'animated-city-text current';
            currentText.textContent = cities[0];
            cityElement.appendChild(currentText);
            
            function updateCity() {
                const nextIndex = (currentIndex + 1) % cities.length;
                
                // Move current text up
                currentText.classList.remove('current');
                currentText.classList.add('previous');
                
                // Create new text but wait to animate it
                const newText = document.createElement('span');
                newText.className = 'animated-city-text';
                newText.textContent = cities[nextIndex];
                cityElement.appendChild(newText);
                
                // Wait for previous text to start moving before showing new text
                setTimeout(() => {
                    requestAnimationFrame(() => {
                        newText.classList.add('current');
                    });
                }, 250); // Half of the transition time
                
                // Cleanup after animation
                setTimeout(() => {
                    cityElement.removeChild(currentText);
                    currentText = newText;
                    currentIndex = nextIndex;
                }, 500);
            }
            
            setInterval(updateCity, 3000);
        }

        // Start animation when page loads
        document.addEventListener('DOMContentLoaded', animateCities);

        function validateLinkedInUrl(url) {
            return url.match(/^https?:\/\/(www\.)?linkedin\.com\/in\/[\w-]+\/?$/i);
        }

        // Add to validateForm function
        if (document.getElementById('linkedin').value && !validateLinkedInUrl(document.getElementById('linkedin').value)) {
            document.getElementById('linkedin').classList.add('error');
            isValid = false;
        }

        // Initialize phone input with more options
        const phoneInput = window.intlTelInput(document.querySelector("#phone"), {
            preferredCountries: ["us", "gb", "fr", "ch"],
            separateDialCode: true,
            formatOnDisplay: true,
            allowExtensions: true,
            autoHideDialCode: false,
            nationalMode: false,
            utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
        });

        // Handle phone input changes
        document.querySelector("#phone").addEventListener("input", function(e) {
            let number = e.target.value.trim();
            if (number.startsWith('+')) {
                // Try to find country by dial code
                const dialCode = number.match(/^\+(\d+)/)?.[1];
                if (dialCode) {
                    const countryData = phoneInput.getSelectedCountryData();
                    if (dialCode !== countryData.dialCode) {
                        const country = [...phoneInput.getCountryData()].find(
                            country => country.dialCode === dialCode
                        );
                        if (country) {
                            phoneInput.setCountry(country.iso2);
                        }
                    }
                }
            }
        });

        // Add new function to toggle other referral input
        function toggleOtherReferralInput() {
            const otherCheckbox = document.getElementById('referral-other');
            const otherInputs = document.getElementById('otherReferralInputs');
            
            otherInputs.style.display = otherCheckbox.checked ? 'block' : 'none';
            document.getElementById('referrerFirstName').required = otherCheckbox.checked;
            document.getElementById('referrerLastName').required = otherCheckbox.checked;
        }

        function toggleOtherInput(type) {
            if (type === 'location') {
                const locationSelect = document.getElementById('location');
                const otherLocation = document.getElementById('otherLocation');
                otherLocation.style.display = locationSelect.value === 'other' ? 'block' : 'none';
                otherLocation.required = locationSelect.value === 'other';
            } else if (type === 'identity') {
                const identitySelect = document.getElementById('identity');
                const otherIdentity = document.getElementById('otherIdentity');
                const startupInfoContainer = document.getElementById('startupInfoContainer');
                
                // Show/hide the "other" input field
                otherIdentity.style.display = identitySelect.value === 'other' ? 'block' : 'none';
                otherIdentity.required = identitySelect.value === 'other';
                
                // Show/hide startup info fields for founders
                const isFounder = identitySelect.value === 'pre-seed-no-revenue' || identitySelect.value === 'seed-revenue';
                startupInfoContainer.style.display = isFounder ? 'block' : 'none';
            }
        }

        document.querySelector('form').addEventListener('scroll', function(e) {
            const form = e.target;
            const container = document.querySelector('.form-container');
            
            // Check if we're at the bottom
            const isAtBottom = form.scrollHeight - form.scrollTop <= form.clientHeight + 50;
            container.classList.toggle('at-bottom', isAtBottom);
        });

        // Add this function to check if form needs scrolling
        function updateScrollIndicator() {
            const form = document.querySelector('form');
            const scrollIndicator = document.querySelector('.scroll-indicator');
            
            // Only show arrow if content is scrollable
            if (form.scrollHeight > form.clientHeight + 20) { // Added small buffer
                scrollIndicator.style.display = 'block';
            } else {
                scrollIndicator.style.display = 'none';
            }
        }

        // Update the openForm function
        function openForm() {
            const overlay = document.getElementById('formOverlay');
            document.body.style.overflow = 'hidden';
            overlay.classList.add('active');
            setTimeout(updateScrollIndicator, 100); // Check after animation
        }

        // Add scroll event listener
        document.querySelector('form').addEventListener('scroll', function(e) {
            const form = e.target;
            const container = document.querySelector('.form-container');
            const scrollIndicator = document.querySelector('.scroll-indicator');
            
            // Check if we're at the bottom
            const isAtBottom = form.scrollHeight - form.scrollTop <= form.clientHeight + 50;
            
            // Toggle arrow direction
            if (isAtBottom) {
                scrollIndicator.classList.add('up');
            } else {
                scrollIndicator.classList.remove('up');
            }
            
            // Hide when at bottom and user scrolls further
            if (form.scrollHeight - form.scrollTop <= form.clientHeight) {
                scrollIndicator.style.display = 'none';
            } else if (form.scrollHeight > form.clientHeight + 20) {
                scrollIndicator.style.display = 'block';
            }
        });

        // Update on window resize
        window.addEventListener('resize', updateScrollIndicator);

        // Add click handler for scroll indicator
        document.querySelector('.scroll-indicator').addEventListener('click', function() {
            const form = document.querySelector('form');
            const isAtBottom = form.scrollHeight - form.scrollTop <= form.clientHeight + 50;
            
            // If near bottom, scroll to top, otherwise scroll to bottom
            if (isAtBottom) {
                form.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            } else {
                form.scrollTo({
                    top: form.scrollHeight,
                    behavior: 'smooth'
                });
            }
        });

        document.addEventListener('mousemove', (e) => {
            requestAnimationFrame(() => {
                const xAxis = (window.innerWidth / 2 - e.pageX) / 15;
                const yAxis = (window.innerHeight / 2 - e.pageY) / 15;
                
                document.querySelector('.gradient-container').style.transform = 
                    `rotateY(${xAxis}deg) rotateX(${yAxis}deg) translateZ(50px)`;
            });
        });

        // Add reset on mouse leave
        document.addEventListener('mouseleave', () => {
            document.querySelector('.gradient-container').style.transform = 
                'rotateY(0deg) rotateX(0deg) translateZ(0px)';
        });
    </script>
</body>
</html>